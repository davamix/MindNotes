<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="MindNotes.Desktop.Controls.SmartNoteControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MindNotes.Desktop.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    x:Name="smartNoteControl">

	<Grid Background="#AA000000">
		<!-- Front view note (read-only) -->
		<Border x:Name="frontContent"
				Margin="64"
				PointerEntered="frontContent_PointerEntered"
				PointerExited="frontContent_PointerExited">
			<Border.Resources>
				<ThemeShadow x:Name="shadowBorderFront" />

				<Storyboard x:Name="fadeInButtonsStoryboard">
					<DoubleAnimation Storyboard.TargetProperty="Opacity"
									 Storyboard.TargetName="toolbar"
									 From="0"
									 To="1"
									 Duration="0:0:0.5" />
				</Storyboard>

				<Storyboard x:Name="fadeOutButtonsStoryboard">
					<DoubleAnimation Storyboard.TargetProperty="Opacity"
									 Storyboard.TargetName="toolbar"
									 From="1"
									 To="0"
									 Duration="0:0:0.5" />
				</Storyboard>
			</Border.Resources>

			<Grid>
				<Border Background="#7AA1D2"
						CornerRadius="8"
						Padding="16"
						Translation="0,0,32"
						Shadow="{StaticResource shadowBorderFront}">
					<ScrollViewer>
						<TextBlock x:Name="txtContentFront"
								   ScrollViewer.VerticalScrollBarVisibility="Auto"
								   TextWrapping="Wrap"
								   Text="{Binding ElementName=smartNoteControl, Path=ContentNote}"
								   IsTextSelectionEnabled="True" />
					</ScrollViewer>

				</Border>

				<!-- Right Toolbar -->
				<Grid x:Name="toolbar"
					  VerticalAlignment="Stretch"
					  HorizontalAlignment="Right"
					  Opacity="0"
					  Margin="5">
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto" />
					</Grid.RowDefinitions>
					<Button x:Name="btnClose"
							Grid.Row="0"
							Background="Transparent"
							BorderThickness="0"
							ToolTipService.ToolTip="Close note"
							PointerEntered="button_PointerEntered"
							PointerExited="button_PointerExited"
							Click="btnClose_Click">
						<FontIcon Glyph="&#xE8BB;" />
					</Button>
				</Grid>

			</Grid>

		</Border>
	</Grid>
</UserControl>
